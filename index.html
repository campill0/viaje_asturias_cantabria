<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mapa Familiar - Asturias y Cantabria</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet-measure/dist/leaflet-measure.css">
  <style>
    html, body { margin: 0; padding: 0; height: 100%; }
    #map { height: 100%; }
    .popup-content {
      font-family: Arial, sans-serif;
      font-size: 14px;
      line-height: 1.4;
      max-width: 220px;
    }
    .popup-title {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 5px;
    }
    .popup-content ul {
      padding-left: 20px;
      margin: 5px 0;
    }
    .popup-content li {
      margin-bottom: 4px;
    }
    .popup-content a {
      color: #1a0dab;
      text-decoration: underline;
    }
    .popup-link {
      display: block;
      margin-top: 6px;
      font-size: 13px;
      color: #1a0dab;
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-measure/dist/leaflet-measure.js"></script>
  <script>
    // Inicializar mapa
    const map = L.map('map').setView([43.4, -4.9], 8);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);

    // Herramienta de medici√≥n
    const measureControl = new L.Control.Measure({
      position: 'topleft',
      primaryLengthUnit: 'kilometers',
      secondaryLengthUnit: 'meters',
      activeColor: '#db4a29',
      completedColor: '#9b2d14'
    }).addTo(map);
    map.on('measurestart', () => map.dragging.disable());
    map.on('measurefinish', () => map.dragging.enable());
    map.on('measureclear', () => map.dragging.enable());

    // Lista de destinos con detalles enlazados a b√∫squedas en Google Im√°genes
    const destinos1 = [
      { nombre: "Gij√≥n", coords: [43.5411, -5.6645], detalles: [ "üèñÔ∏è Playas (San Lorenzo)", "üê† Acuario de Gij√≥n", "üå≥ Jard√≠n Bot√°nico Atl√°ntico", "üçΩÔ∏è Gastronom√≠a asturiana en Tierra Astur" ] },
      { nombre: "Ribadesella", coords: [43.4632, -5.0588], detalles: [ "ü¶ï Huellas de dinosaurios en la playa", "üèñÔ∏è Playa familiar de Santa Marina", "ü•© Cachopo en Sidrer√≠a El Tarteru" ] },
      { nombre: "Luanco", coords: [43.6193, -5.7981], detalles: [ "‚öì Museo Mar√≠timo de Asturias", "üêü Mariscos frescos en La Posada del Mar", "üö∂ Paseos por el puerto pesquero" ] },
      { nombre: "Cangas de On√≠s", coords: [43.3501, -5.1327], detalles: [ "üåâ Puente Romano", "üèûÔ∏è Lagos de Covadonga", "üç≤ Cocina local en El Mol√≠n de la Pedrera" ] },
      { nombre: "Llanes", coords: [43.4194, -4.7546], detalles: [ "üèñÔ∏è Playas de Tor√≥ y Cuevas del Mar", "ü•Ç Sidra y cachopo en Casa El Rubiu", "üö£ Excursiones en canoa por el Sella" ] },
      { nombre: "San Vicente de la Barquera", coords: [43.3871, -4.3951], detalles: [ "üè∞ Castillo del Rey", "üèñÔ∏è Playa de Mer√≥n", "üêü Pescados en Restaurante Las Redes" ] },
      { nombre: "Comillas", coords: [43.3866, -4.2914], detalles: [ "üèõÔ∏è El Capricho de Gaud√≠", "üå≥ Paseo por el Parque G√ºell y Martos", "üç∑ Men√∫ familiar en Gurea" ] },
      { nombre: "Santillana del Mar", coords: [43.3878, -4.1064], detalles: [ "üè∞ Casco medieval", "ü¶Å Zoo de Santillana", "üåø Laberinto de Villapresente" ] },
      { nombre: "Santander", coords: [43.4623, -3.8099], detalles: [ "üè∞ Palacio de La Magdalena", "üèñÔ∏è Playa del Sardinero", "ü¶ê Mariscos en Agua Salada" ] },
      { nombre: "Fuente D√©", coords: [43.1449, -4.8259], detalles: [ "üö° Telef√©rico a los Picos de Europa", "üèûÔ∏è Miradores de altura", "‚òï Restaurante del Parador" ] },
      { nombre: "Potes", coords: [43.1513, -4.6195], detalles: [ "üèòÔ∏è Barrio hist√≥rico", "üåä Paseo por el r√≠o Deva", "üçõ Cocina lebaniega en La Barrica" ] },
      { nombre: "Desfiladero de la Hermida", coords: [43.2432, -4.5903], detalles: [ "üèîÔ∏è Impresionantes paredes de roca", "üö∂ Senda Mitol√≥gica del Hozarco", "ü•™ Merendero en La Sauceda" ] },
      { nombre: "Covadonga", coords: [43.3081, -5.0548], detalles: [ "‚õ™ Bas√≠lica de Santa Mar√≠a la Real", "üèûÔ∏è Lagos de Enol y Ercina", "ü•ò Men√∫ tradicional en El Repelao" ] },
      { nombre: "Cab√°rceno", coords: [43.3601, -3.8470], detalles: [ "üêò Safari de animales en semilibertad", "ü¶è Miradores de elefantes y rinocerontes", "üçΩÔ∏è Men√∫s infantiles en Los Osos" ] },
      { nombre: "MUJA (Colunga)", coords: [43.4753, -5.2677], detalles: [ "ü¶ï Museo Jur√°sico de Asturias", "üñºÔ∏è R√©plicas a tama√±o real", "‚òï Caf√© tem√°tico del museo" ] },
      { nombre: "Pozas termales - La Hermida", coords: [43.2486, -4.5833], detalles: [ "üíß Aguas termales naturales (38‚Äì40 ¬∞C)", "üöó Parking junto al balneario", "üåø Paseo corto desde la carretera" ] }
    ];

    const destinos = [
  { nombre: "Sebre√±u", coords: [43.4607343, -5.0862242], detalles: [ "üèòÔ∏è Aldea rural con h√≥rreos", "üåÖ Mirador al Cant√°brico", "üçØ Miel artesana de la zona" ] },
  { nombre: "Cueva de Tito Bustillo", coords: [43.4612547, -5.0680492], detalles: [ "üé® Arte rupestre Patrimonio Mundial", "üï≥Ô∏è Galer√≠a de pinturas prehist√≥ricas", "üèõÔ∏è Centro de interpretaci√≥n interactivo" ] },
  { nombre: "Ribadesella", coords: [43.463111, -5.0566643], detalles: [ "ü¶ï Huellas de dinosaurios en la playa", "üèñÔ∏è Playa familiar de Santa Marina", "ü•© Cachopo en Sidrer√≠a El Tarteru" ] },
  { nombre: "Bufones de Pr√≠a", coords: [43.4584154, -4.9797614], detalles: [ "üåä Chorros marinos impresionantes", "üö∂ Senda costera hasta Cuevas del Mar", "üì∏ Mirador para fotos al atardecer" ] },
  { nombre: "Playa de Gulpiyuri", coords: [43.4474967, -4.8859819], detalles: [ "üèñÔ∏è Playa interior √∫nica", "üåä Piscina natural con marea", "üçÉ Pradera ideal para picnic" ] },
  { nombre: "MUJA (Colunga)", coords: [43.5010405, -5.2740996], detalles: [ "ü¶ï Museo Jur√°sico de Asturias", "üñºÔ∏è R√©plicas de dinosaurios a tama√±o real", "‚òï Caf√© tem√°tico del museo" ] },
  { nombre: "Lastres", coords: [43.5139204, -5.27055], detalles: [ "üèòÔ∏è Villa marinera colgada del acantilado", "üèñÔ∏è Playa de La Griega y puerto", "üç§ Marisco fresco en El Barrig√≥n" ] },
  { nombre: "Mirador del Fitu", coords: [43.4388106, -5.1925387], detalles: [ "üåÑ 360¬∞ vistas de mar y monta√±a", "üö∂ Sendero al pico Pienzu", "üì∏ Plataforma circular panor√°mica" ] },
  { nombre: "Llanes", coords: [43.4211483, -4.7562159], detalles: [ "üèñÔ∏è Playas de Poo y Torimbia", "üé® Cubos de la Memoria", "üç¶ Helado artesanal en Revuelta" ] },
  { nombre: "Cangas de On√≠s", coords: [43.3506429, -5.1311817], detalles: [ "üåâ Puente Romano sobre el Sella", "üßÄ Mercado del queso Gamon√©u", "üö£ Punto de salida del Descenso del Sella" ] },
  { nombre: "Playa de Rodiles", coords: [43.5317372, -5.3769428], detalles: [ "üèÑ‚Äç‚ôÇÔ∏è Spot de surf internacional", "üå≤ Pinar con merenderos", "üö∂ Paseo fluvial de Villaviciosa" ] },
  { nombre: "Tazones", coords: [43.5452665, -5.4062829], detalles: [ "üèòÔ∏è Puerto ballenero pintoresco", "üëë Desembarco de Carlos V en 1517", "ü¶™ Ostras y mariscos en las terrazas" ] },
  { nombre: "Covadonga", coords: [43.3123308, -5.0593809], detalles: [ "‚õ™ Bas√≠lica de Santa Mar√≠a la Real", "üèûÔ∏è Lagos de Enol y Ercina", "ü•ß Carbayones en El Repelao" ] },
  { nombre: "Restaurante La Parrilla de Prellezo", coords: [43.380235, -4.4397117], detalles: [ "üçñ Parrilladas de carne a la brasa", "üåÖ Terraza con vistas al mar", "ü•Ç Selecci√≥n de vinos c√°ntabros" ] },
  { nombre: "Jard√≠n Bot√°nico Atl√°ntico", coords: [43.5215086, -5.6158997], detalles: [ "üåø Colecci√≥n de flora cant√°brica", "üö∂ Paseo por la Carbayera centenaria", "üê¶ Observatorio de aves" ] },
  { nombre: "Santuario de Covadonga", coords: [43.3075477, -5.0546135], detalles: [ "üôè Ermita en la Santa Cueva", "üé∂ √ìrgano hist√≥rico y c√°nticos", "üõçÔ∏è Tienda de recuerdos religiosos" ] },
  { nombre: "San Vicente de la Barquera", coords: [43.3813069, -4.397058], detalles: [ "üè∞ Castillo del Rey y murallas", "üèñÔ∏è Playa de Mer√≥n y Beder", "üç® Helado artesano en Regma" ] },
  { nombre: "Gij√≥n", coords: [43.5322493, -5.6609733], detalles: [ "üèñÔ∏è Playa de San Lorenzo", "üê† Acuario de Gij√≥n", "üå≥ Jard√≠n Bot√°nico Atl√°ntico", "üçΩÔ∏è Sidra y tapas en Tierra Astur" ] },
  { nombre: "Parque Isabel la Cat√≥lica", coords: [43.5369271, -5.6399657], detalles: [ "üå≥ Jardines y estanques con cisnes", "ü¶ö Pavos reales paseando libres", "üö¥ Carril bici hasta El Rincon√≠n" ] },
  { nombre: "Playa de San Lorenzo", coords: [43.5410462, -5.6500665], detalles: [ "üèñÔ∏è Arena fina y oleaje suave", "üèÑ‚Äç‚ôÄÔ∏è Escuela de surf urbana", "üåÖ Paseo mar√≠timo del Muro" ] },
  { nombre: "Parque Natural de Oyambre", coords: [43.3836382, -4.3590402], detalles: [ "üåæ Dunas protegidas", "üê¶ Avistamiento de aves migratorias", "üèñÔ∏è Playa virgen de Oyambre" ] },
  { nombre: "Acuario de Gij√≥n", coords: [43.5424604, -5.6766247], detalles: [ "üê† T√∫nel submarino 360¬∞", "ü¶à Tanque de tiburones", "üë®‚Äçüë©‚Äçüë¶ Talleres interactivos" ] },
  { nombre: "Comillas", coords: [43.3856192, -4.2922535], detalles: [ "üèõÔ∏è El Capricho de Gaud√≠", "üå≥ Parque de Sobrellano", "üç∑ Men√∫ familiar en Gurea" ] },
  { nombre: "Luanco", coords: [43.6136722, -5.792911], detalles: [ "‚öì Museo Mar√≠timo de Asturias", "üêü Pescados y mariscos en el puerto", "üö∂ Paseo mar√≠timo hasta Moniello" ] },
  { nombre: "Cueva de El Soplao", coords: [43.2964859, -4.4101414], detalles: [ "üíé Estalactitas exc√©ntricas √∫nicas", "üöÇ Tren minero de acceso", "üìΩÔ∏è Proyecci√≥n sobre geolog√≠a" ] },
  { nombre: "Santillana del Mar", coords: [43.3873327, -4.1066092], detalles: [ "üè∞ Casco medieval empedrado", "ü¶Å Zoo de Santillana", "üåø Laberinto de Villapresente" ] },
  { nombre: "Cabo de Pe√±as", coords: [43.646132, -5.85121], detalles: [ "üåä Acantilados m√°s al norte de Asturias", "üè† Faro y centro de interpretaci√≥n", "ü•æ Ruta costera a Verdicio" ] },
  { nombre: "Suances", coords: [43.4257047, -4.0427225], detalles: [ "üèñÔ∏è Playa de Los Locos (surf)", "üè∞ Faro punta del Torco", "üç§ Mariscos en La D√°rsena" ] },
  { nombre: "Cudillero", coords: [43.5629162, -6.1452648], detalles: [ "üèòÔ∏è Anfiteatro de casas de colores", "üêü Rula de pescadores diaria", "üç≤ Caldereta de pescador" ] },
  { nombre: "Santander", coords: [43.4636346, -3.8226402], detalles: [ "üè∞ Palacio de La Magdalena", "üèñÔ∏è Playa del Sardinero", "ü¶ê Tapas en el Paseo Pereda" ] },
  { nombre: "Cab√°rceno", coords: [43.3581451, -3.8227696], detalles: [ "üêò Safari de fauna en semilibertad", "ü¶è Telecabina sobre el parque", "üçΩÔ∏è Men√∫s infantiles en Los Osos" ] },
  { nombre: "Murcia", coords: [37.9893044, -1.1320073], detalles: [ "üèõÔ∏è Catedral de Santa Mar√≠a", "üå≥ Jard√≠n del Malec√≥n", "üçã Tapas murcianas y paparajotes" ] },
  { nombre: "Segovia", coords: [40.9602655, -4.1101125], detalles: [ "üèóÔ∏è Acueducto romano", "üè∞ Alc√°zar de Segovia", "‚õ™ Catedral g√≥tica", "üçñ Cochinillo asado en Mes√≥n de C√°ndido" ] },
  { nombre: "Sig√ºenza", coords: [41.06448, -2.641057], detalles: [ "üè∞ Castillo-Parador medieval", "‚õ™ Catedral de Santa Mar√≠a", "üóø Tumba del Doncel de Sig√ºenza", "üç∑ Tapas de cabrito y vino" ] }

];

    destinos.forEach(({ nombre, coords, detalles }) => {
      const search = encodeURIComponent(`${nombre} gu√≠a tur√≠stica`);
      const coordsStr = `${coords[0]},${coords[1]}`;
      const listItems = detalles.map(item => {
        const query = encodeURIComponent(item);
        return `<li><a href="https://www.google.com/search?tbm=isch&q=${query}" target="_blank">${item}</a></li>`;
      }).join('');
      const html = `
        <div class='popup-content'>
          <div class='popup-title'>${nombre}</div>
          <ul>${listItems}</ul>
          <a class='popup-link' href='https://www.youtube.com/results?search_query=${search}' target='_blank'>Ver gu√≠as en YouTube</a>
          <a class='popup-link' href='https://www.google.com/maps?q=${coordsStr}' target='_blank'>Abrir en Google Maps</a>
        </div>`;
      L.marker(coords).addTo(map).bindPopup(html);
    });
  </script>
</body>
</html>
